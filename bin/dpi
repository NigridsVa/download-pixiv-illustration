#!/usr/bin/env node

const program = require("commander");
const dpi = require("../lib/download-pixiv-illustration");
const pkg = require("../package.json");

program
  .description("Downloads all pictures or videos for Pixiv illustration URLs")
  .usage("SESSION-ID URL [URL]...")
  .option(
    "-v, --verbose",
    'Makes dpi verbose during the operation. Useful for debugging and seeing what\'s going on "under the hood".'
  )
  .version(pkg.version, "-V, --version")
  .parse(process.argv);

const [sessionId, ...urls] = program.args;

dpi.run(sessionId, urls, program.opts());
